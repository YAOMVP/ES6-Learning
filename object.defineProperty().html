<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object,defineProperty()</title>
</head>

<body>
    <script>
        let obj = {
                id: 1,
                name: "Mi",
                price: 1999
            }
            //obj.storage = 1000;ä¼ ç»Ÿæ–¹å¼æ·»åŠ å±æ€§

        // Object.defineProperty(å¯¹è±¡ï¼Œ"éœ€è¦å®šä¹‰æˆ–è€…ä¿®æ”¹å±æ€§çš„åå­—"ï¼Œç›®æ ‡å±æ€§æ‰€æ‹¥æœ‰çš„ç‰¹å¾)  Object.defineProperty(obj,prop,descriptor)

        /* descriptor:ğŸ˜æˆ‘å¿˜äº† è¦ä»¥å¯¹è±¡çš„æ ¼å¼ä¹¦å†™ğŸ˜
        1.valueï¼šè®¾ç½®å€¼çš„å±æ€§
        2.writableï¼šæ˜¯å¦å¯ä»¥é‡å†™  true|false é»˜è®¤false
        3.enumerable:æ˜¯å¦å¯ä»¥éå†å‡ºæ¥(å°±æ˜¯åå°æ˜¾ç¤ºå‡ºæ¥) é»˜è®¤false
        4.configurable:æ˜¯å¦å¯ä»¥è¢«åˆ é™¤æˆ–è€…å†æ¬¡ä¿®æ”¹ç‰¹æ€§ é»˜è®¤falseä¸å…è®¸è¢«åˆ é™¤
        */

        Object.defineProperty(obj, "storage", {
            value: 1000 //ğŸ˜Šå€¼å°±æ˜¯å¤šå°‘
        });
        console.log(obj);

        Object.defineProperty(obj, "id", {
            writable: false //ğŸ˜Šå…¶å®é»˜è®¤çš„å°±æ˜¯false
        })
        obj.id = 2; //è¾“å‡ºçš„idè¿˜æ˜¯1ï¼Œå› ä¸ºwritableçš„å€¼æ˜¯falseæ—¶ä¸èƒ½ä¿®æ”¹ï¼Œæƒ³ä¿®æ”¹æ”¹æˆtrueå°±ok
        console.log(obj);


        /* ğŸ˜Š// Object.keys(å¯¹è±¡)ğŸ˜ŠæŠŠå¯¹è±¡ç›´æ¥æ”¾åœ¨æ•°ç»„é‡Œè¾¹äº†ï¼Œä»¥åforEachéå†æ•°ç»„å°±å¯ä»¥äº† 
        let array = Object.keys(obj) //å¯è·å¾—objå¯¹è±¡é‡Œçš„æ‰€æœ‰å±æ€§çš„åå­—çš„æ•°ç»„å½¢å¼
        console.log(array); 
        */

        Object.defineProperty(obj, "address", {
            value: "åŒ—äº¬å¸‚æµ·æ·€åŒº",
            enumerable: false, //ğŸ˜Šå…¶å®é»˜è®¤çš„å°±æ˜¯false  ä¸æƒ³è®©é¡µé¢æ˜¾ç¤ºå‡ºæ¥
            configurable: false //ğŸ˜Šä¸å…è®¸è¢«åˆ é™¤  ç°åœ¨æˆ‘è®¾ç½®çš„configurableä¸ºä¸å¯ä»¥ä¿®æ”¹ç‰¹æ€§ï¼Œåº•ä¸‹åœ¨å¼„ä¸€ä¸ªdefinePropertyçš„configurableï¼štrueæ˜¯ä¸è¡Œçš„
        })
        console.log(obj);
        // console.log(Object.keys(obj)); //ğŸ˜Šç”¨Object.keys(obj)çœ‹çœ‹èƒ½å¦æ‰“å°å‡ºæ¥addresså¯¹è±¡
        delete obj.address;
        console.log(obj);



        Object.defineProperty(obj, "address", {
            value: "åŒ—äº¬å¸‚æµ·æ·€åŒº",
            enumerable: true, //ğŸ˜Šå…¶å®é»˜è®¤çš„å°±æ˜¯false  ä¸æƒ³è®©é¡µé¢æ˜¾ç¤ºå‡ºæ¥
            configurable: true //ğŸ˜Šä¸å…è®¸è¢«åˆ é™¤  ä¸Šè¾¹çš„configurable:falseï¼Œä¸è®©ä¿®æ”¹äº†
        })
        console.log(obj.address); //æ”¹äº†ç™½æ”¹æŠ¥é”™äº†
    </script>
</body>

</html>